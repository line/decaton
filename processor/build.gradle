buildscript {
    repositories {
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath "me.champeau.gradle:jmh-gradle-plugin:0.5.3"
    }
}

apply plugin: "me.champeau.gradle.jmh"

dependencies {
    compile project(":common")
    compile project(":client")

    compile "io.micrometer:micrometer-core:$micrometerVersion"

    testCompile project(":protobuf")
    testRuntimeOnly "ch.qos.logback:logback-classic:1.2.6"

    testFixturesCompile "junit:junit:$junitVersion"
    testFixturesCompileOnly "org.projectlombok:lombok:$lombokVersion"

    itCompile "junit:junit:$junitVersion"
    itCompile project(":protobuf")
    itCompile project(":testing")
    itCompile project(":benchmark")
    itCompile "io.micrometer:micrometer-registry-prometheus:$micrometerVersion"
}

jmh {
    failOnError = true
}
